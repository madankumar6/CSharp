@helper BuildMenu(IEnumerable<TMS.Model.MenuItem> menus)
{
foreach (var menu in menus)
{
    if (menu.Children == null || menu.Children.Count == 0)
    {
            <li><a href="@(menu.URL)"><i class="@menu.CSSClass"></i><span>@menu.Text</span></a></li>
    }
    else
    {
        <li class="treeview">
            <a href="#">
                <i class="@menu.CSSClass"></i>
                <span>@menu.Text</span>
                <i class="fa fa-angle-left pull-right"></i>
            </a>
            <ul class="treeview-menu">
                @*@Helpers.BuildMenu(menu.Children)*@

                @foreach (var subMenu in menu.Children)
                {
                    <li><a href="@(subMenu.URL)"><i class="fa fa-circle-o"></i>@subMenu.Text</a></li>
                }
            </ul>
        </li>
    }
}
}
















@helper BuildMenuOld(IEnumerable<TMS.Model.MenuItem> menus)
{
    foreach (var menu in menus)
    {
        if (menu.Children == null || menu.Children.Count == 0)
        {
            <li class=""><a href="@menu.URL"><i class="@menu.CSSClass"></i><span>@menu.Text</span></a></li>
        }
        else
        {
            <li class="menu-list"><a href="#"><i class="@menu.CSSClass"></i><span>@menu.Text</span></a>
                <ul class="sub-menu-list">
                    @*@Helpers.BuildMenu(menu.Children)*@

                    @foreach (var subMenu in menu.Children)
                    {
                        <li class=""><a href="@subMenu.URL">@subMenu.Text</a></li>
                    }
                </ul>
            </li>
        }
    }
}

